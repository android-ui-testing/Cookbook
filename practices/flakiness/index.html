
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Flakiness - Proper Android UI Testing</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-211238769-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#flakiness" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://android-ui-testing.github.io/Cookbook/home/" title="Proper Android UI Testing" class="md-header__button md-logo" aria-label="Proper Android UI Testing" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M420.55 301.93a24 24 0 1 1 24-24 24 24 0 0 1-24 24m-265.1 0a24 24 0 1 1 24-24 24 24 0 0 1-24 24m273.7-144.48 47.94-83a10 10 0 1 0-17.27-10l-48.54 84.07a301.25 301.25 0 0 0-246.56 0l-48.54-84.07a10 10 0 1 0-17.27 10l47.94 83C64.53 202.22 8.24 285.55 0 384h576c-8.24-98.45-64.54-181.78-146.85-226.55"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Proper Android UI Testing
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Flakiness
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/android-ui-testing/Cookbook" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Cookbook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../home/" class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../basics/testing_theory/" class="md-tabs__link">
        Basics
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../state_clearing/" class="md-tabs__link md-tabs__link--active">
        Practices
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../adoption/companies_experience/" class="md-tabs__link">
        Adoption
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://android-ui-testing.github.io/Cookbook/home/" title="Proper Android UI Testing" class="md-nav__button md-logo" aria-label="Proper Android UI Testing" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M420.55 301.93a24 24 0 1 1 24-24 24 24 0 0 1-24 24m-265.1 0a24 24 0 1 1 24-24 24 24 0 0 1-24 24m273.7-144.48 47.94-83a10 10 0 1 0-17.27-10l-48.54 84.07a301.25 301.25 0 0 0-246.56 0l-48.54-84.07a10 10 0 1 0-17.27 10l47.94 83C64.53 202.22 8.24 285.55 0 384h576c-8.24-98.45-64.54-181.78-146.85-226.55"/></svg>

    </a>
    Proper Android UI Testing
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/android-ui-testing/Cookbook" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Cookbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../home/" class="md-nav__link">
        Home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../home/roadmap/" class="md-nav__link">
        Roadmap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../home/contribution/" class="md-nav__link">
        Contribution
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Basics" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/testing_theory/" class="md-nav__link">
        Testing theory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/instrumented_testing_basics/" class="md-nav__link">
        Instrumented testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/ui_testing/" class="md-nav__link">
        UI testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/screenshot_testing/" class="md-nav__link">
        Screenshot testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/ui_tests_vs_snapshot_tests/" class="md-nav__link">
        Ui testing or Screenshot testing?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Practices
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Practices" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Practices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../state_clearing/" class="md-nav__link">
        State clearing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../test_runners_review/" class="md-nav__link">
        Test runners
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../emulator_vs_real_device/" class="md-nav__link">
        Emulator vs real device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../emulator_setup/" class="md-nav__link">
        Emulator setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../network/" class="md-nav__link">
        Network
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Flakiness
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Flakiness
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reason" class="md-nav__link">
    Reason
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flakiness-protection" class="md-nav__link">
    Flakiness protection
  </a>
  
    <nav class="md-nav" aria-label="Flakiness protection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-wait-for-the-content-appearing" class="md-nav__link">
    1. Wait for the content appearing 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-isolated-environment-for-each-test" class="md-nav__link">
    2. Use isolated environment for each test 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-test-vanishing-content-in-other-way-toasts-snackbars-etc" class="md-nav__link">
    3. Test vanishing content in other way (Toasts, Snackbars, etc) 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-use-special-configuration-for-your-device" class="md-nav__link">
    4. Use special configuration for your device 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-use-fresh-emulator-instance-each-test-batch" class="md-nav__link">
    5. Use fresh emulator instance each test batch 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-mock-your-network-layer" class="md-nav__link">
    6. Mock your network layer 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-close-system-tray-notifications-before-each-test" class="md-nav__link">
    7. Close system tray notifications before each test 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-use-retries" class="md-nav__link">
    8. Use retries 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-avoid-bottlenecks" class="md-nav__link">
    9. Avoid bottlenecks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-sort-your-tests" class="md-nav__link">
    10. Sort your tests 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11-use-the-same-emulator-configuration-locally-and-on-the-ci" class="md-nav__link">
    11. Use the same emulator configuration locally and on the CI 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-use-the-same-test-runner-locally-and-on-the-ci" class="md-nav__link">
    12. Use the same test runner locally and on the CI 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-collect-and-observe-flakiness-information" class="md-nav__link">
    13. Collect and observe flakiness information 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-validate-all-tests-for-flakiness" class="md-nav__link">
    14. Validate all tests for flakiness 
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../page_object/" class="md-nav__link">
        Page object
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../shared_test_components/" class="md-nav__link">
        Sharing ui components among tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../obfuscated_build/" class="md-nav__link">
        Testing obfuscated build
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Adoption
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Adoption" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Adoption
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../adoption/companies_experience/" class="md-nav__link">
        Companies experience
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reason" class="md-nav__link">
    Reason
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flakiness-protection" class="md-nav__link">
    Flakiness protection
  </a>
  
    <nav class="md-nav" aria-label="Flakiness protection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-wait-for-the-content-appearing" class="md-nav__link">
    1. Wait for the content appearing 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-isolated-environment-for-each-test" class="md-nav__link">
    2. Use isolated environment for each test 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-test-vanishing-content-in-other-way-toasts-snackbars-etc" class="md-nav__link">
    3. Test vanishing content in other way (Toasts, Snackbars, etc) 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-use-special-configuration-for-your-device" class="md-nav__link">
    4. Use special configuration for your device 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-use-fresh-emulator-instance-each-test-batch" class="md-nav__link">
    5. Use fresh emulator instance each test batch 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-mock-your-network-layer" class="md-nav__link">
    6. Mock your network layer 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-close-system-tray-notifications-before-each-test" class="md-nav__link">
    7. Close system tray notifications before each test 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-use-retries" class="md-nav__link">
    8. Use retries 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-avoid-bottlenecks" class="md-nav__link">
    9. Avoid bottlenecks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-sort-your-tests" class="md-nav__link">
    10. Sort your tests 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11-use-the-same-emulator-configuration-locally-and-on-the-ci" class="md-nav__link">
    11. Use the same emulator configuration locally and on the CI 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-use-the-same-test-runner-locally-and-on-the-ci" class="md-nav__link">
    12. Use the same test runner locally and on the CI 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-collect-and-observe-flakiness-information" class="md-nav__link">
    13. Collect and observe flakiness information 
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-validate-all-tests-for-flakiness" class="md-nav__link">
    14. Validate all tests for flakiness 
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/android-ui-testing/Cookbook/tree/main/docs/content/practices/flakiness.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="flakiness">Flakiness</h1>
<p><img alt="alt text" src="../../images/practices/header_flakiness.svg" title="Sad" /></p>
<p>Flakiness it's an unstable behavior of particular test. If you execute this test N times, it won't pass <code>N/N</code>. Or, it
can pass only locally, but always or often failed on the CI.</p>
<p>It's the most frustrating problem in instrumented testing, which requires a lot of time from engineers to fight.</p>
<h2 id="reason">Reason</h2>
<ul>
<li>Production code </br>
  <code>Example: async operations, race-conditions</code></li>
<li>Test code </br>
  <code>Example: testing toasts/snack-bars</code></li>
<li>A real device or Emulator </br>
  <code>Example: Disk/Battery/Processor/Memory issues or notification has shown on the device</code></li>
<li>Infrastructure </br>
  <code>Example: Processor/Disk/Memory issues</code></li>
</ul>
<mark class="critic block">
<p>It's not possible to fight flakiness on 100% if your codebase changes every day (including the new sources of flakiness)</p>
<p>However, it's possible to reduce it and achieve good percentage of flakiness free.</p>
</mark>
<p>In general, to reduce flakiness you need to choose tools like framework for writing, test runner and emulator properly</p>
<h2 id="flakiness-protection">Flakiness protection</h2>
<h4 id="1-wait-for-the-content-appearing">1. Wait for the content appearing </br></h4>
<dl>
<dd>When we have an http request or other asynchronous operation, it's not possible to predict how soon our expected
content will be shown on the screen.<br>By default, Espresso framework will fail assertion if there is no expected
content in a particular time.
</br>
Google provided <a href="https://developer.android.com/training/testing/espresso/idling-resource">Idling Resources</a> to catch
asynchronous operations.
</br> However, this goes against the common testing best practice of not putting testing code inside your application
code and also requires an additional effort from engineers.</br>
Recommended by community way it's to use smart-waiting (aka flaky safely algorithm) like this
:
<div class="highlight"><pre><span></span><code><span class="kd">fun</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">invokeFlakySafely</span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="n">params</span><span class="p">:</span><span class="w"> </span><span class="n">FlakySafetyParams</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">failureMessage</span><span class="p">:</span><span class="w"> </span><span class="kt">String?</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">action</span><span class="p">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">T</span><span class="w"></span>
<span class="w">    </span><span class="p">):</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nv">cachedError</span><span class="p">:</span><span class="w"> </span><span class="n">Throwable</span><span class="w"></span>
<span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">startTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">do</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">action</span><span class="p">.</span><span class="na">invoke</span><span class="p">()</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="n">Throwable</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">.</span><span class="na">isAllowed</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="na">allowedExceptions</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="n">cachedError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="w"></span>
<span class="w">                    </span><span class="n">lock</span><span class="p">.</span><span class="na">withLock</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                        </span><span class="n">Timer</span><span class="p">().</span><span class="na">schedule</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="na">intervalMs</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                            </span><span class="n">lock</span><span class="p">.</span><span class="na">withLock</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">condition</span><span class="p">.</span><span class="na">signalAll</span><span class="p">()</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="w">                        </span><span class="p">}</span><span class="w"></span>
<span class="w">                        </span><span class="n">condition</span><span class="p">.</span><span class="na">await</span><span class="p">()</span><span class="w"></span>
<span class="w">                    </span><span class="p">}</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="k">throw</span><span class="w"> </span><span class="n">error</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">startTime</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="na">timeoutMs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">cachedError</span><span class="p">.</span><span class="na">withMessage</span><span class="p">(</span><span class="n">failureMessage</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</code></pre></div></dd>
<dd>This is an internals of
the <a href="https://github.com/KasperskyLab/Kaspresso/blob/c8c32004494071e6851d814598199e13c495bf00/kaspresso/src/main/kotlin/com/kaspersky/kaspresso/flakysafety/algorithm/FlakySafetyAlgorithm.kt">Kaspresso library</a></dd>
<dd>Official documentation says that it's not a good way to handle this, because of an additional consuming of CPU
resources. However, it's a pragmatic trade-off which speed ui testing writing up and relieves engineers from thinking
about this problem at all.</dd>
<dd>Some frameworks have already implemented solution, which intercepts all assertions:</dd>
<dd>
<ul>
<li><a href="https://github.com/avito-tech/avito-android/tree/develop/subprojects/android-test/ui-testing-core/src/main/kotlin/com/avito/android">Avito UI test framework</a></li>
<li><a href="https://github.com/KasperskyLab/Kaspresso">Kaspresso</a></li>
</ul>
</dd>
<dd>
<p>Consider using them to avoid this problem at all.</p>
</dd>
</dl>
<h4 id="2-use-isolated-environment-for-each-test">2. Use isolated environment for each test </br></h4>
<dl>
<dd>Package clear before each test will all your data in application and process itself. This will get rid of the
likelihood affection old data to your current test. Marathon and Avito-Test runner provide the easiest way to clear the
state.
</br></dd>
<dd>You can see the details
here: <a href="https://android-ui-testing.github.io/Cookbook/practices/state_clearing/">State Clearing</a></dd>
</dl>
<h4 id="3-test-vanishing-content-in-other-way-toasts-snackbars-etc">3. Test vanishing content in other way (Toasts, Snackbars, etc) </br></h4>
<dl>
<dd>Testing the content which is going to be hidden after N time (usually ms) it's also challenging. Toast might be shown
properly, but your test framework is checking other content on the screen at the particular moment. When this check is
done, toast might have already been disappeared, your test will be failed.</dd>
<dd>To solve this, you may not to test it at all. Or, you can have some proxy object which saves a fact that
Toast/SnackBar has been shown. This solution has already been implemented by Avito company, you may check the
details <a href="https://avito-tech.github.io/avito-android/test/Toast/">here</a></dd>
<dd>If you have own designed component, which is also disappears after some time, you can disable this disparity for tests
and close it manually.</dd>
</dl>
<h4 id="4-use-special-configuration-for-your-device">4. Use special configuration for your device </br></h4>
<dl>
<dd>In the most of the cases you don't to have Accelerometer, Audio input/output, Play Store, Sensors and Gyroscope in
your tests.
</br>
You can see how to disable them
here: <a href="https://android-ui-testing.github.io/Cookbook/practices/emulator_setup/">Emulator setup</a></dd>
<dd>Also, it's recommended way to disable animations on the device, screen-off timeout and long press timeout. The script
below will patch all your devices connected to <code>adb</code>
<div class="highlight"><pre><span></span><code>  <span class="nv">devices</span><span class="o">=</span><span class="k">$(</span>adb devices -l <span class="p">|</span> sed <span class="s1">&#39;1d&#39;</span> <span class="p">|</span> sed <span class="s1">&#39;$d&#39;</span> <span class="p">|</span>  awk <span class="s1">&#39;{print $1}&#39;</span><span class="k">)</span>
  <span class="k">for</span> d <span class="k">in</span> <span class="nv">$devices</span><span class="p">;</span> <span class="k">do</span>
    adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell <span class="s2">&quot;settings put global window_animation_scale 0.0&quot;</span>
    adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell <span class="s2">&quot;settings put global transition_animation_scale 0.0&quot;</span>
    adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell <span class="s2">&quot;settings put global animator_duration_scale 0.0&quot;</span>
    adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell <span class="s2">&quot;settings put secure spell_checker_enabled 0&quot;</span>
    adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell <span class="s2">&quot;settings put secure show_ime_with_hard_keyboard 1&quot;</span>
    adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell <span class="s2">&quot;settings put system screen_off_timeout 2147483647&quot;</span>
    adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell <span class="s2">&quot;settings put secure long_press_timeout 1500&quot;</span>
    adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell <span class="s2">&quot;settings put global hidden_api_policy_pre_p_apps 1&quot;</span>
    adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell <span class="s2">&quot;settings put global hidden_api_policy_p_apps 1&quot;</span>
    adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell <span class="s2">&quot;settings put global hidden_api_policy 1&quot;</span>
<span class="k">done</span>
</code></pre></div></dd>
</dl>
<h4 id="5-use-fresh-emulator-instance-each-test-batch">5. Use fresh emulator instance each test batch </br></h4>
<dl>
<dd>Your tests may affect your emulator work, like save some information in the external storage, which can be a reason of
flakiness. It's not pragmatic to run a new emulator for each test in terms of speed, however you can do it each batch.
Just kill emulators when all of your tests finished.
<br>
You can see how to disable them
here: <a href="https://android-ui-testing.github.io/Cookbook/practices/emulator_setup/">Emulator setup</a></dd>
</dl>
<h4 id="6-mock-your-network-layer">6. Mock your network layer </br></h4>
<dl>
<dd>In 2021, it's still not possible to have stable network connection. To achieve stability, it's better to mock it. Yes,
after that our test is not fully end-to-end, but it's a pragmatic trade-off. You can read more about it
here: <a href="https://android-ui-testing.github.io/Cookbook/practices/network/">Network</a></dd>
</dl>
<h4 id="7-close-system-tray-notifications-before-each-test">7. Close system tray notifications before each test </br></h4>
<dl>
<dd>This problem may appear if some of your tests for some reasons didn't close the system notification tray. All of the
next tests will be failed because of this.
<br>To prevent such case, you can write a test rule which will close such notification before each test
:
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">CloseNotificationsRule</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ExternalResource</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">before</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">UiDevice</span><span class="w"></span>
<span class="w">            </span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="n">InstrumentationRegistry</span><span class="p">.</span><span class="na">getInstrumentation</span><span class="p">())</span><span class="w"></span>
<span class="w">            </span><span class="p">.</span><span class="na">pressHome</span><span class="p">()</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></dd>
</dl>
<h4 id="8-use-retries">8. Use retries </br></h4>
<dl>
<dd>Retry it's a last of flakiness protection layer. It's better to delegate it to test runner instead of custom test
rule, as our test process might be crashed during the test execution. If test passed as minimum once, we consider it as
passed.<br>
It's recommended by the community way to always have as minimum as one retry. As we showed before, it's not possible to
fight flakiness in 100%, if your codebase changes really often. You also may have 100% flakiness free if you use only
one device, but you might have some problems if you run your tests across multiple devices because them consume more
resources.<br>
Usually tests are flaky in a not really convenient way. If you have UI tests as a part of CD, your release will be
automatically blocked because of it. Do not avoid retries. Try to reduce them and always check, why test has been
retried.
<br>You can read more about retries and flakiness strategies
here: <a href="https://android-ui-testing.github.io/Cookbook/practices/test_runners_review/">Test runners</a></dd>
</dl>
<h4 id="9-avoid-bottlenecks">9. Avoid bottlenecks</br></h4>
<dl>
<dd>Imagine you have a test which navigates to your feature throughout <code>MainScreen</code>.
<code>MainScreen</code> it's a bottleneck, because a lot of teams can be contributing in there.
<br>
Try to open your particular feature directly in your tests. You can do it via <code>ActivityScenario</code>, or by using the same
components as using in deeplink processing, or by using custom created navigation component.
<br>
However, leave as minimum as 1 test, which checks that your feature can be opened from <code>MainScreen</code></dd>
</dl>
<h4 id="10-sort-your-tests">10. Sort your tests </br></h4>
<dl>
<dd>It also can be a reason of flakiness, if you run your tests across multiple devices.<br>Especially, when you run test
with different execution time in parallel. While <code>test1</code> is running, <code>test2, test3, test4</code> can be finished. Test runners
like Marathon/Avito will pull the device data after that, which can create artificially created delay, which can be a
reason of <code>test1</code> failing.
<br>
Sorting test by execution time based on a previous run will reduce the count of issues like this.</dd>
</dl>
<h4 id="11-use-the-same-emulator-configuration-locally-and-on-the-ci">11. Use the same emulator configuration locally and on the CI </br></h4>
<dl>
<dd>Test can work fine in one device, however it can be failed on another device. Try to use an emulator with the same
configuration as on CI locally.</dd>
<dd>You also can add some checks, which prohibit to run instrumented tests locally not on the same emulator as on CI.
<div class="highlight"><pre><span></span><code>  <span class="nv">devices</span><span class="o">=</span><span class="k">$(</span>adb devices -l <span class="p">|</span> sed <span class="s1">&#39;1d&#39;</span> <span class="p">|</span> sed <span class="s1">&#39;$d&#39;</span> <span class="p">|</span>  awk <span class="s1">&#39;{print $1}&#39;</span><span class="k">)</span>

  <span class="k">for</span> d <span class="k">in</span> <span class="nv">$devices</span><span class="p">;</span> <span class="k">do</span>

    <span class="nv">device_version</span><span class="o">=</span><span class="k">$(</span>adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell getprop ro.build.version.sdk<span class="k">)</span>
    <span class="nv">emulator_name</span><span class="o">=</span><span class="k">$(</span>adb -s <span class="s2">&quot;</span><span class="nv">$d</span><span class="s2">&quot;</span> shell getprop ro.kernel.qemu.avd_name<span class="k">)</span>

    <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$emulator_name</span><span class="s2">&quot;</span> !<span class="o">=</span> <span class="nv">$ANDROID_ALLOWED_EMULATOR_29</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
      throw_error <span class="s2">&quot;One of connected to adb devices not supported to run UI tests, please disconnect them and run emulator, using: ./runEmulator.sh&quot;</span>
    <span class="k">fi</span>

    <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$device_version</span><span class="s2">&quot;</span> !<span class="o">=</span> <span class="m">29</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
        throw_error <span class="s2">&quot;Please, use emulator with sdk 29 as the same version uses on verification on CI. To create emulator, use: ./runEmulator --ui-test&quot;</span>
    <span class="k">fi</span> 
<span class="k">done</span>
</code></pre></div></dd>
</dl>
<h4 id="12-use-the-same-test-runner-locally-and-on-the-ci">12. Use the same test runner locally and on the CI </br></h4>
<dl>
<dd>Your test launch on CI and locally shouldn't be different. If you use 3rd party test runner on CI, use it to run your
tests locally as well</dd>
</dl>
<h4 id="13-collect-and-observe-flakiness-information">13. Collect and observe flakiness information </br></h4>
<dl>
<dd>Always monitor flakiness percentage to reduce them and try to automate it. Marathon provides an information about
retries it's done during the test run in a report meta-files in json format. Using them, you can create a Slack
notification which posts some data with flakiness free:
<div class="highlight"><pre><span></span><code>Flakiness report:
Flakiness free: <span class="m">95</span>% <span class="o">(</span>tests passed from 1st attempt<span class="o">)</span>
Flakiness overhead: 25m:1s <span class="o">(</span>how much <span class="nb">time</span> we spent on retries<span class="o">)</span>
Average succeed <span class="nb">test</span> execution time: 29s

ActionsInChatTest#chat_is_read_only_no_input passed from <span class="m">3</span> attempt
ReplaceCard#checkSelectReplaceCardReasonScreenOpened passed from <span class="m">2</span> attempt
NewChatTest#new_chat_from_help_screen_created_with_written_suggestion passed from <span class="m">2</span> attempt
ExistingChatTest#chat_ongoing_from_all_requests_screen_opened passed from <span class="m">2</span> attempt
</code></pre></div></dd>
</dl>
<h4 id="14-validate-all-tests-for-flakiness">14. Validate all tests for flakiness </br></h4>
<dl>
<dd>At night, when engineers sleep, you can trigger a CI job which runs all of your tests N times (like 10-30-100). Marathon
provides the most convenient way to do that.</dd>
<dd>You can read more about it
here: <a href="https://android-ui-testing.github.io/Cookbook/practices/test_runners_review/">Test runners</a></dd>
</dl>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../network/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Network" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Network
            </div>
          </div>
        </a>
      
      
        
        <a href="../page_object/" class="md-footer__link md-footer__link--next" aria-label="Next: Page object" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Page object
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://github.com/android-ui-testing/Cookbook" target="_blank" rel="noopener" title="Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>